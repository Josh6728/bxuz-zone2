<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Settings - Zoning Code Administration Portal</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        .icon {
            width: 20px;
            height: 20px;
            stroke: currentColor;
            fill: none;
            stroke-width: 2;
        }
        .icon-lg {
            width: 32px;
            height: 32px;
        }
        .icon-sm {
            width: 16px;
            height: 16px;
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Navigation Sidebar -->
        <nav class="sidebar">
            <div class="sidebar-header">
                <h2>Zoning Code Administration</h2>
            </div>
            
            <!-- User Account Section -->
            <div class="user-account">
                <div class="user-profile" id="user-profile">
                    <div class="user-avatar">
                        <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='50' fill='%234f46e5'/%3E%3Ctext x='50' y='60' font-family='Arial, sans-serif' font-size='36' font-weight='bold' text-anchor='middle' fill='white'%3EAU%3C/text%3E%3C/svg%3E" alt="User Avatar">
                    </div>
                    <div class="user-info">
                        <div class="user-name">Admin User</div>
                        <div class="user-email">admin@planning.nyc.gov</div>
                    </div>
                    <div class="user-dropdown-toggle">
                        <svg class="icon icon-sm" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5"/>
                        </svg>
                    </div>
                </div>
                
                <div class="user-dropdown" id="user-dropdown">
                    <a href="#" class="dropdown-item">
                        <svg class="icon icon-sm" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"/>
                        </svg>
                        Profile
                    </a>
                    <a href="#" class="dropdown-item">
                        <svg class="icon icon-sm" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932 6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z"/>
                            <path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                        </svg>
                        Settings
                    </a>
                    <div class="dropdown-divider"></div>
                    <a href="#" class="dropdown-item logout-item">
                        <svg class="icon icon-sm" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15M12 9l-3 3m0 0l3 3m-3-3h12.75"/>
                        </svg>
                        Log out
                    </a>
                </div>
            </div>
            
            <ul class="nav-list">
                <li><a href="dashboard.html" class="nav-link">Dashboard</a></li>
                <li><a href="zoning-code.html" class="nav-link">Zoning Code</a></li>
                <li><a href="regulations.html" class="nav-link">Regulations</a></li>
                <li><a href="faqs.html" class="nav-link">FAQs</a></li>
                <li><a href="import.html" class="nav-link">Import</a></li>
                <li><a href="ai-settings.html" class="nav-link active">AI Settings</a></li>
                <li><a href="users.html" class="nav-link">Users</a></li>
            </ul>
            <div class="sidebar-footer">
                <button class="return-btn">Return to Map</button>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="content-container">
            <div class="page active">
                <div class="page-header">
                    <h1>AI Settings</h1>
                    <div class="header-actions">
                        <button class="secondary-btn">
                            <svg class="icon icon-sm" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"/>
                            </svg>
                            Test Connection
                        </button>
                        <button class="primary-btn">
                            <svg class="icon icon-sm" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0111.186 0z"/>
                            </svg>
                            Save Settings
                        </button>
                    </div>
                </div>
                
                <div class="settings-tabs">
                    <button class="tab-btn active" data-tab="general">General</button>
                    <button class="tab-btn" data-tab="zoning-ai">Zoning AI</button>
                    <button class="tab-btn" data-tab="migration">Migration</button>
                    <button class="tab-btn" data-tab="monitoring">Monitoring</button>
                </div>

                <!-- General Tab -->
                <div id="tab-general" class="settings-content" style="display: block;">
                    <div class="settings-section">
                        <h3>OpenAI Configuration</h3>
                        <p>Configure your OpenAI API settings for the zoning AI assistant</p>
                        
                        <div class="form-group">
                            <label>API Key</label>
                            <input type="password" value="••••••••••••••••••••••••••••••••" class="form-input">
                            <small>Your OpenAI API key is stored securely and used for AI-powered zoning analysis</small>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label>Model</label>
                                <select class="form-select">
                                    <option selected>GPT-4o</option>
                                    <option>GPT-4</option>
                                    <option>GPT-3.5-turbo</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Max Tokens</label>
                                <input type="number" value="4096" class="form-input">
                            </div>
                        </div>

                        <div class="form-group">
                            <label>Temperature (0.7)</label>
                            <input type="range" min="0" max="1" step="0.1" value="0.7" class="form-range">
                            <small>Lower values make responses more deterministic, higher values make them more creative</small>
                        </div>
                    </div>

                    <div class="settings-section">
                        <h3>Usage & Monitoring</h3>
                        <p>Configure AI usage limits and monitoring</p>
                        
                        <div class="form-group">
                            <label>Daily Query Limit</label>
                            <input type="number" value="1000" class="form-input">
                            <small>Maximum number of AI queries per day</small>
                        </div>

                        <div class="toggle-group">
                            <label class="toggle-label">
                                <input type="checkbox" class="toggle-input" checked>
                                <span class="toggle-slider"></span>
                                Enable Query Logging
                            </label>
                            <p>Log all AI queries for analysis</p>
                        </div>

                        <div class="toggle-group">
                            <label class="toggle-label">
                                <input type="checkbox" class="toggle-input" checked>
                                <span class="toggle-slider"></span>
                                Enable User Feedback
                            </label>
                            <p>Allow users to rate AI responses</p>
                        </div>
                    </div>

                    <div class="settings-section">
                        <h3>AI Training</h3>
                        <p>Train the AI on your zoning code</p>
                        
                        <div class="training-card">
                            <div class="training-icon">
                                <svg class="icon icon-lg" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"/>
                                </svg>
                            </div>
                            <div class="training-content">
                                <h4>Train AI Model</h4>
                                <p>Train the AI on your latest zoning code updates</p>
                                <button class="primary-btn">Start Training</button>
                            </div>
                        </div>
                        
                        <div class="training-info">
                            <div class="info-item">
                                <strong>Last trained:</strong> March 15, 2025 at 2:30 PM
                            </div>
                            <div class="info-item">
                                <strong>Training time:</strong> Training typically takes 15-30 minutes to complete
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Zoning AI Tab -->
                <div id="tab-zoning-ai" class="settings-content" style="display: none;">
                    <div class="settings-section">
                        <h3>System Prompt</h3>
                        <p>This prompt guides the AI's behavior and expertise focus</p>
                        <div class="form-group">
                            <textarea class="form-textarea" rows="8">You are an AI assistant specialized in urban planning and zoning analysis for New York City. Provide brief, insightful analysis of land use patterns visible in the current map view. Include specific references to NYC neighborhoods and zoning regulations where relevant.</textarea>
                            <small>This prompt guides the AI's behavior and expertise focus</small>
                        </div>
                    </div>
                </div>

                <!-- Migration Tab -->
                <div id="tab-migration" class="settings-content" style="display: none;">
                    <div class="settings-section">
                        <h3>Document Processing</h3>
                        <p>Configure AI settings for zoning code document processing</p>
                        
                        <div class="form-group">
                            <label>Document Processing Model</label>
                            <select class="form-select">
                                <option selected>GPT-4o</option>
                                <option>GPT-4</option>
                                <option>GPT-3.5-turbo</option>
                            </select>
                            <small>Model used for processing and analyzing zoning code documents</small>
                        </div>

                        <div class="form-group">
                            <label>Structure Detection Prompt</label>
                            <textarea class="form-textarea" rows="4">Analyze this zoning code document and identify its structure. Extract chapters, articles, sections, and subsections. Identify any references between sections.</textarea>
                        </div>

                        <div class="toggle-group">
                            <label class="toggle-label">
                                <input type="checkbox" class="toggle-input" checked>
                                <span class="toggle-slider"></span>
                                Auto-Correct Issues
                            </label>
                            <p>Automatically fix common issues in zoning code documents</p>
                        </div>

                        <div class="toggle-group">
                            <label class="toggle-label">
                                <input type="checkbox" class="toggle-input" checked>
                                <span class="toggle-slider"></span>
                                Preserve Original Formatting
                            </label>
                            <p>Maintain original text formatting where possible</p>
                        </div>
                    </div>

                    <div class="settings-section">
                        <h3>Document Types</h3>
                        <p>Configure supported document types and processing settings</p>
                        
                        <div class="toggle-group">
                            <label class="toggle-label">
                                <svg class="icon icon-sm" viewBox="0 0 24 24" style="margin-right: 8px;">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c0 .621-.504 1.125-1.125 1.125H9.375c-.621 0-1.125-.504-1.125-1.125V11.25c0-4.46 3.243-8.161 7.5-8.876a9.06 9.06 0 011.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v.375M6 15.75h.75m.75 0h3.75m0 0h.75m.75 0h3.75"/>
                                </svg>
                                <input type="checkbox" class="toggle-input" checked>
                                <span class="toggle-slider"></span>
                                PDF Documents
                            </label>
                            <p>Process PDF zoning code documents</p>
                        </div>

                        <div class="toggle-group">
                            <label class="toggle-label">
                                <svg class="icon icon-sm" viewBox="0 0 24 24" style="margin-right: 8px;">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m6.75 18H3.75c-.621 0-1.125-.504-1.125-1.125V8.25c0-.621.504-1.125 1.125-1.125h5.25c.621 0 1.125.504 1.125 1.125v13.5c0 .621-.504 1.125-1.125 1.125z"/>
                                </svg>
                                <input type="checkbox" class="toggle-input" checked>
                                <span class="toggle-slider"></span>
                                Word Documents
                            </label>
                            <p>Process DOC/DOCX zoning code documents</p>
                        </div>

                        <div class="toggle-group">
                            <label class="toggle-label">
                                <svg class="icon icon-sm" viewBox="0 0 24 24" style="margin-right: 8px;">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M17.25 6.75L22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25m7.5-3l-4.5 16.5"/>
                                </svg>
                                <input type="checkbox" class="toggle-input" checked>
                                <span class="toggle-slider"></span>
                                HTML Documents
                            </label>
                            <p>Process HTML zoning code documents</p>
                        </div>

                        <div class="toggle-group">
                            <label class="toggle-label">
                                <svg class="icon icon-sm" viewBox="0 0 24 24" style="margin-right: 8px;">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c0 .621-.504 1.125-1.125 1.125H11.25a1.125 1.125 0 01-1.125-1.125V11.625c0-1.036-.84-1.875-1.875-1.875H5.625c-.621 0-1.125.504-1.125 1.125v2.25"/>
                                </svg>
                                <input type="checkbox" class="toggle-input" checked>
                                <span class="toggle-slider"></span>
                                Plain Text
                            </label>
                            <p>Process TXT zoning code documents</p>
                        </div>
                    </div>
                </div>

                <!-- Monitoring Tab -->
                <div id="tab-monitoring" class="settings-content" style="display: none;">
                    <div class="settings-section">
                        <h3>Usage Monitoring</h3>
                        <p>Configure AI usage monitoring and alerts</p>
                        
                        <div class="form-group">
                            <label>Usage Alert Threshold</label>
                            <div style="display: flex; align-items: center; gap: 1rem;">
                                <input type="number" value="80" class="form-input" style="flex: 1;">
                                <span style="color: var(--text-secondary); font-weight: 500;">%</span>
                            </div>
                            <small>Send alert when usage reaches this percentage of the daily limit</small>
                        </div>

                        <div class="form-group">
                            <label>Alert Email</label>
                            <input type="email" value="admin@planning.nyc.gov" class="form-input">
                            <small>Email address to receive usage alerts</small>
                        </div>

                        <div class="toggle-group">
                            <label class="toggle-label">
                                <input type="checkbox" class="toggle-input" checked>
                                <span class="toggle-slider"></span>
                                Weekly Usage Report
                            </label>
                            <p>Send weekly AI usage report</p>
                        </div>
                    </div>

                    <div class="settings-section">
                        <h3>Performance Monitoring</h3>
                        <p>Configure AI performance monitoring</p>
                        
                        <div class="toggle-group">
                            <label class="toggle-label">
                                <input type="checkbox" class="toggle-input" checked>
                                <span class="toggle-slider"></span>
                                Track Response Time
                            </label>
                            <p>Monitor AI response time performance</p>
                        </div>

                        <div class="toggle-group">
                            <label class="toggle-label">
                                <input type="checkbox" class="toggle-input" checked>
                                <span class="toggle-slider"></span>
                                Track Accuracy
                            </label>
                            <p>Monitor AI response accuracy based on user feedback</p>
                        </div>

                        <div class="toggle-group">
                            <label class="toggle-label">
                                <input type="checkbox" class="toggle-input" checked>
                                <span class="toggle-slider"></span>
                                Track Errors
                            </label>
                            <p>Monitor AI errors and failures</p>
                        </div>

                        <div class="form-group">
                            <label>Performance Alert Threshold</label>
                            <div style="display: flex; align-items: center; gap: 1rem;">
                                <input type="number" value="5" class="form-input" style="flex: 1;">
                                <span style="color: var(--text-secondary); font-weight: 500;">seconds</span>
                            </div>
                            <small>Send alert when response time exceeds this threshold</small>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script src="script.js"></script>
</body>
</html> 